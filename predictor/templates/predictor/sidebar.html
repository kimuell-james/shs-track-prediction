{% load static %}

<div class="offcanvas offcanvas-start show sidebar" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
    id="offcanvas" aria-labelledby="offcanvasLabel" style="visibility: visible; transform: none;">

    <div class="offcanvas-header flex-column align-items-center">
        <!-- Logo -->
        <img src="{% static 'images/shs_logo.png' %}" alt="Logo" width="100" height="100"
            class="d-inline-block align-text-top mb-2">

        <!-- Username -->
        <h5 class="text-center">Hello, {{ user.username }}!</h5>
    </div>

    <!-- Navs -->
    <div class="offcanvas-body d-flex flex-column flex-grow-1">
        <ul class="nav flex-column sidebar-menu">
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
                    href="{% url 'home' %}">
                    Dashboard
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'student_record' %}active{% endif %}"
                    href="{% url 'student_record' %}">
                    Student Record
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'model_evaluation' %}active{% endif %}"
                    href="{% url 'model_evaluation' %}">
                    Model Evaluation
                </a>
            </li>

            <li class="nav-item">
                {% if user.is_superuser %}
                <a class="nav-link 
                  {% if request.resolver_match.url_name in 'admin_panel register_user update_user' %}active{% endif %}"
                    href="{% url 'admin_panel' %}">
                    Admin Dashboard
                </a>
                {% else %}
                <a class="nav-link {% if request.resolver_match.url_name == 'update_user' %}active{% endif %}"
                    href="{% url 'update_user' user.id %}">
                    Update User
                </a>
                {% endif %}
            </li>
        </ul>

        <!-- Logout -->
        <div class="mt-auto">
            <a class="btn btn-secondary w-100" id="logout-btn" href="{% url 'logout' %}">Logout</a>
        </div>
    </div>
</div>